# ----------------------------------------------
# Autor: Samuel Ignacio Umbariba Manrique
# Actividad: Ensambla tu Auto con POO
# Año: 2025
# ----------------------------------------------

# Clase Puerta
class Puerta:
    def __init__(self, lado):
        self.lado = lado

    def mostrar_info(self):
        print(f"Puerta del lado {self.lado}")


# Clase Auto
class Auto:
    def __init__(self, modelo, color):
        self.modelo = modelo
        self.color = color
        self.puertas = []

    def agregar_puerta(self, lado):
        puerta = Puerta(lado)
        self.puertas.append(puerta)
        print(f"Puerta del lado {lado} agregada al auto {self.modelo}.")

    def cambiar_color(self, nuevo_color):
        self.color = nuevo_color
        print(f"El color del auto {self.modelo} ha sido cambiado a {nuevo_color}.")

    def mostrar_info(self):
        print(f"\nAUTO: {self.modelo}")
        print(f"Color: {self.color}")
        if not self.puertas:
            print("Sin puertas instaladas.")
        else:
            print("Puertas instaladas:")
            for p in self.puertas:
                print(f" - {p.lado}")


# Clase Fábrica
class Fabrica:
    def __init__(self, nombre):
        self.nombre = nombre
        self.autos = []

    def ensamblar_auto(self, modelo, color):
        auto = Auto(modelo, color)
        self.autos.append(auto)
        print(f"Auto {modelo} ({color}) creado correctamente.")
        return auto

    def mostrar_autos(self):
        if not self.autos:
            print("No hay autos ensamblados aún.")
            return
        print("\n--- LISTA DE AUTOS ENSAMBLADOS ---")
        for i, auto in enumerate(self.autos, start=1):
            print(f"{i}. {auto.modelo} - {auto.color}")
        print("----------------------------------")


# Función de menú principal
def menu():
    fabrica = Fabrica("Ensambla tu Auto")

    while True:
        print("\n===== BIENVENIDO A ENSAMBLA TU AUTO =====")
        print("1. Crear nuevo auto")
        print("2. Agregar puertas a un auto existente")
        print("3. Cambiar color de un auto")
        print("4. Ver autos ensamblados")
        print("5. Salir")
        opcion = input("Seleccione una opción: ")

        if opcion == "1":
            modelo = input("Ingrese el modelo del auto: ")
            color = input("Ingrese el color del auto: ")
            fabrica.ensamblar_auto(modelo, color)

        elif opcion == "2":
            if not fabrica.autos:
                print("Primero debe crear un auto.")
                continue
            fabrica.mostrar_autos()
            indice = int(input("Seleccione el número del auto: ")) - 1
            if 0 <= indice < len(fabrica.autos):
                auto = fabrica.autos[indice]
                lado = input("Ingrese el lado de la puerta (izquierda, derecha, trasera): ")
                auto.agregar_puerta(lado)
            else:
                print("Número de auto no válido.")

        elif opcion == "3":
            if not fabrica.autos:
                print("Primero debe crear un auto.")
                continue
            fabrica.mostrar_autos()
            indice = int(input("Seleccione el número del auto: ")) - 1
            if 0 <= indice < len(fabrica.autos):
                nuevo_color = input("Ingrese el nuevo color: ")
                fabrica.autos[indice].cambiar_color(nuevo_color)
            else:
                print("Número de auto no válido.")

        elif opcion == "4":
            fabrica.mostrar_autos()
            for auto in fabrica.autos:
                auto.mostrar_info()

        elif opcion == "5":
            print("Gracias por usar Ensambla tu Auto. ¡Hasta pronto!")
            break

        else:
            print("Opción no válida. Intente nuevamente.")


# Programa principal
if __name__ == "__main__":
    menu()


